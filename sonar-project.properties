# Required metadata
sonar.projectKey=SpongeBUG_DEB
sonar.organization=spongebug
sonar.qualitygate.wait=true

# Source and test folders
sonar.sources=src
sonar.tests=tests

# Coverage configuration
sonar.javascript.lcov.reportPaths=coverage/lcov.info
sonar.typescript.lcov.reportPaths=coverage/lcov.info

# Coverage settings
sonar.coverage.minimum=70
sonar.coverage.exclusions=tests/**/*,src/**/*.test.ts,src/**/*.spec.ts,src/**/index.ts
sonar.cpd.exclusions=tests/**/*

# Test patterns
sonar.test.inclusions=**/*.test.ts,**/*.spec.ts

# General exclusions 
sonar.exclusions=node_modules/**/*,dist/**/*,coverage/**/*,.github/**/*,.husky/**/*

# Source encoding
sonar.sourceEncoding=UTF-8

# Remove the incorrect module configuration
# sonar.modules=cli/commands
# sonar.cli/commands.coverage.minimum=65

# Instead, add specific path coverage monitoring
sonar.coverage.jacoco.xmlReportPaths=coverage/lcov.info
sonar.coverage.reportPaths=coverage/lcov.info

# Enable detailed analysis
sonar.verbose=true

# Additional settings for better analysis
sonar.typescript.tsconfigPath=tsconfig.json
sonar.tests.reportPath=coverage/test-report.xml